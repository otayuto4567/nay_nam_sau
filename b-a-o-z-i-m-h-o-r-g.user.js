// ==UserScript==
// @name         b-a-o-z-i-m-h-o-r-g
// @namespace    https://github.com/otayuto4567/nay_nam_sau/raw/main/b-a-o-z-i-m-h-o-r-g.user.js
// @version      2024.07.09
// @description  down b-a-o-z-i-m-h-o-r-g
// @author       You
// @match        https://m.godamh.com/chapter/*
// @match        https://baozimh.one/chapter/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=baozimh.org
// @grant        GM_download
// @grant        GM_info
// @downloadURL  https://github.com/otayuto4567/nay_nam_sau/raw/main/b-a-o-z-i-m-h-o-r-g.user.js
// @updateURL    https://github.com/otayuto4567/nay_nam_sau/raw/main/b-a-o-z-i-m-h-o-r-g.meta.js
// ==/UserScript==

const a0_0x5bc057=a0_0x4aee;(function(_0x3eed93,_0x2f78b6){const _0x1a8573=a0_0x4aee,_0x48ea44=_0x3eed93();while(!![]){try{const _0x4b8f23=-parseInt(_0x1a8573(0x9d))/0x1+-parseInt(_0x1a8573(0x9c))/0x2*(-parseInt(_0x1a8573(0xa4))/0x3)+parseInt(_0x1a8573(0x87))/0x4*(parseInt(_0x1a8573(0xa7))/0x5)+parseInt(_0x1a8573(0xbf))/0x6+-parseInt(_0x1a8573(0xac))/0x7+parseInt(_0x1a8573(0xc1))/0x8*(parseInt(_0x1a8573(0x93))/0x9)+-parseInt(_0x1a8573(0xbb))/0xa;if(_0x4b8f23===_0x2f78b6)break;else _0x48ea44['push'](_0x48ea44['shift']());}catch(_0x31012c){_0x48ea44['push'](_0x48ea44['shift']());}}}(a0_0x39f1,0x87220));let downloading_current=0x0,downloading_total=0x0;const downloadMode=GM_info[a0_0x5bc057(0x9e)];function a0_0x39f1(){const _0x4f5bd6=['setAttribute','firstChild','className','92rjWsmu','55749WEKFis','downloadMode','info','url','setdata','images','createElement','65085eUCfTc','flex','rel','1555VjweBB','href','stylesheet','width','src','2704765RdxQqf','absolute','top','\x20/\x20','pointer','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20.status-num\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Acme\x27,\x20sans-serif\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x203rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#FD7377;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-webkit-text-stroke:\x201px\x20#C62428;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x200.2rem\x20solid\x20#167975;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#F9FDFD;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200.25rem\x200.4rem\x20#2E8B87;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x204rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','alignItems','#heartbeat','div','cookie','toString','.jpg','#bcrctitle','browser','12183230iXkrNd','status','10000','52494646','459750wcecwD','/api/chapter/getinfo?m=','976288TFKyZn','getUint32','addEventListener','style','map','translate(-50%)','.webp','head','center','\x0a\x20\x20\x20\x20\x20\x20.tai-ve\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20heartbeat\x202s\x20infinite;\x20/*\x20Apply\x20the\x20heartbeat\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform-origin:\x20center;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@keyframes\x20heartbeat\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Start\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2025%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2025%\x20of\x20the\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1.2);\x20/*\x20Scale\x20up\x20at\x2050%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Return\x20to\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2075%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2075%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20End\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20','parse','https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','querySelector','createObjectURL','insertBefore','89504e47','innerHTML','zIndex','image/webp','cursor','textContent','0.5rem','.status-num','getElementsByTagName','data','json','length','528aAqWDu','padStart','tai-ve','left','appendChild','link','position','https://fonts.googleapis.com/css2?family=Acme&display=swap','status-num','3rem','split','.png','81EchbvJ','all','image/jpeg','reduce','transform','50vw'];a0_0x39f1=function(){return _0x4f5bd6;};return a0_0x39f1();}function sleep(_0xda5998){return new Promise(_0x36edc2=>setTimeout(_0x36edc2,_0xda5998));}const download_not_encrypted=async(_0x2e99bc,_0x492587,_0x18db92)=>{const _0x28ba54=a0_0x5bc057,_0x97832=await fetch(_0x2e99bc),_0x27a975=await _0x97832['arrayBuffer']();let _0x455fce=(''+(_0x492587+0x1))[_0x28ba54(0x88)](0x3,'0');downloadMode===_0x28ba54(0xba)&&(_0x455fce=_0x18db92+_0x455fce);const _0x2df2b9=new DataView(_0x27a975),_0x5e71b7=_0x2df2b9[_0x28ba54(0x6d)](0x0,![])[_0x28ba54(0xb7)](0x10);if(_0x5e71b7===_0x28ba54(0xbe)){const _0xd8e55e=new Blob([_0x27a975],{'type':_0x28ba54(0x7e)}),_0x536ff9=URL[_0x28ba54(0x79)](_0xd8e55e);GM_download({'url':_0x536ff9,'name':_0x455fce+_0x28ba54(0x72)}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}else{if(_0x5e71b7===_0x28ba54(0x7b)){const _0x251538=new Blob([_0x27a975],{'type':'image/png'}),_0x41a04a=URL[_0x28ba54(0x79)](_0x251538);GM_download({'url':_0x41a04a,'name':_0x455fce+_0x28ba54(0x92)}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}else{const _0xe2a7a3=new Blob([_0x27a975],{'type':_0x28ba54(0x95)}),_0x21f11d=URL[_0x28ba54(0x79)](_0xe2a7a3);GM_download({'url':_0x21f11d,'name':_0x455fce+_0x28ba54(0xb8)}),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();}}};function update_status(){const _0x3d3625=a0_0x5bc057;document[_0x3d3625(0x78)](_0x3d3625(0x82))[_0x3d3625(0x6f)][_0x3d3625(0xb1)]='flex',document[_0x3d3625(0x78)](_0x3d3625(0x82))[_0x3d3625(0x6f)]['alignItems']=_0x3d3625(0x74),document[_0x3d3625(0x78)]('.status-num')[_0x3d3625(0x7c)]=downloading_current+_0x3d3625(0xaf)+downloading_total;}function create_status_box(){const _0x4fe7eb=a0_0x5bc057;let _0xb49b95=document[_0x4fe7eb(0xa3)](_0x4fe7eb(0xb5));return _0xb49b95[_0x4fe7eb(0x9b)]=_0x4fe7eb(0x8f),_0xb49b95[_0x4fe7eb(0x80)]=downloading_current+_0x4fe7eb(0xaf)+downloading_total,_0xb49b95;}function create_download_icon(){const _0x31393c=a0_0x5bc057;let _0x4427a8=document['createElement'](_0x31393c(0xb5)),_0x1fe1c4=document[_0x31393c(0xa3)]('img');_0x1fe1c4['className']=_0x31393c(0x89),_0x1fe1c4['setAttribute'](_0x31393c(0xab),_0x31393c(0x77)),_0x1fe1c4[_0x31393c(0x6f)][_0x31393c(0xaa)]=_0x31393c(0x90),_0x1fe1c4[_0x31393c(0x6f)][_0x31393c(0x7f)]=_0x31393c(0xb0),_0x4427a8[_0x31393c(0x8b)](_0x1fe1c4);let _0x3724a8=document[_0x31393c(0xa3)](_0x31393c(0x8c));_0x3724a8[_0x31393c(0xa6)]=_0x31393c(0xa9),_0x3724a8[_0x31393c(0xa8)]=_0x31393c(0x8e),document[_0x31393c(0x83)](_0x31393c(0x73))[0x0][_0x31393c(0x8b)](_0x3724a8);let _0x211dee=document[_0x31393c(0xa3)]('div');_0x211dee['className']=_0x31393c(0xbc),_0x211dee['style'][_0x31393c(0xb1)]=_0x31393c(0xa5),_0x211dee[_0x31393c(0x6f)]['justifyContent']=_0x31393c(0x74),_0x211dee[_0x31393c(0x6f)][_0x31393c(0xb3)]='center',_0x211dee[_0x31393c(0x6f)]['gap']='1.5rem',_0x211dee[_0x31393c(0x6f)][_0x31393c(0x8d)]=_0x31393c(0xad),_0x211dee[_0x31393c(0x6f)][_0x31393c(0x7d)]=_0x31393c(0xbd),_0x211dee['style'][_0x31393c(0xae)]=_0x31393c(0x81),_0x211dee[_0x31393c(0x6f)][_0x31393c(0x8a)]=_0x31393c(0x98),_0x211dee[_0x31393c(0x6f)][_0x31393c(0x97)]=_0x31393c(0x71);let _0x980028=create_status_box();const _0x9257da=document['createElement'](_0x31393c(0x6f));_0x9257da[_0x31393c(0x80)]=_0x31393c(0xb2),document[_0x31393c(0x73)][_0x31393c(0x8b)](_0x9257da),_0x211dee['appendChild'](_0x4427a8),_0x211dee[_0x31393c(0x8b)](_0x980028);let _0x58b7b4=document['querySelector']('body'),_0xdaa34b=_0x58b7b4[_0x31393c(0x9a)];return _0x58b7b4[_0x31393c(0x7a)](_0x211dee,_0xdaa34b),_0x211dee;}function a0_0x4aee(_0x3f39e7,_0x303dc0){const _0x39f17d=a0_0x39f1();return a0_0x4aee=function(_0x4aeede,_0xa97aac){_0x4aeede=_0x4aeede-0x6d;let _0x4a0453=_0x39f17d[_0x4aeede];return _0x4a0453;},a0_0x4aee(_0x3f39e7,_0x303dc0);}const throttlePromises=async(_0x2b1609,_0x3e8465)=>{const _0x3f8651=a0_0x5bc057;while(_0x2b1609['length']>0x0){await Promise[_0x3f8651(0x94)](_0x2b1609['splice'](0x0,_0x3e8465)[_0x3f8651(0x70)](_0xf882e2=>_0xf882e2())),await sleep(0xc8);}},on_heartbeat_css=()=>{const _0x53cd2c=a0_0x5bc057;let _0x5784bb=document[_0x53cd2c(0x78)](_0x53cd2c(0xb4));!_0x5784bb&&(_0x5784bb=document[_0x53cd2c(0xa3)](_0x53cd2c(0x6f)),_0x5784bb[_0x53cd2c(0x99)]('id','heartbeat'),document[_0x53cd2c(0x73)][_0x53cd2c(0x8b)](_0x5784bb)),_0x5784bb[_0x53cd2c(0x80)]=_0x53cd2c(0x75);},off_heartbeat_css=()=>{const _0x84b75a=document['querySelector']('#heartbeat');_0x84b75a['textContent']='';};((async()=>{const _0x21b5db=a0_0x5bc057,{ms:_0x283e62,cs:_0x450ad7,host:_0x321d1a}=JSON[_0x21b5db(0x76)](document[_0x21b5db(0xb6)][_0x21b5db(0x91)](';\x20')[_0x21b5db(0x96)]((_0x251b5c,_0x2bf245)=>{const _0x472795=_0x21b5db,[_0x99a94b,..._0x1c9fe7]=_0x2bf245[_0x472795(0x91)]('=');return _0x251b5c[_0x99a94b]=_0x1c9fe7['join']('='),_0x251b5c;},{})[_0x21b5db(0xa1)]),_0x2d38b3=await fetch(_0x321d1a+_0x21b5db(0xc0)+_0x283e62+'&c='+_0x450ad7),_0x48c498=await _0x2d38b3[_0x21b5db(0x85)](),_0x38c8d6=_0x48c498[_0x21b5db(0x84)][_0x21b5db(0x9f)][_0x21b5db(0xa2)]['map'](_0xd1acfb=>_0xd1acfb[_0x21b5db(0xa0)]);if(_0x38c8d6['length']>0x0){let _0x318c70=document[_0x21b5db(0x78)](_0x21b5db(0xb9))[_0x21b5db(0x80)];_0x318c70?_0x318c70=_0x318c70+'/':_0x318c70='';downloading_total=_0x38c8d6[_0x21b5db(0x86)];const _0x868f6a=create_download_icon();_0x868f6a[_0x21b5db(0x6e)]('click',async()=>{on_heartbeat_css(),downloading_current=0x0;let _0x55678f;_0x55678f=_0x38c8d6['map']((_0x47fff3,_0x1fbfef)=>()=>download_not_encrypted(_0x47fff3,_0x1fbfef,_0x318c70)),await throttlePromises(_0x55678f,0x2);});}})());